<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>GREENIFY Admin ‚Äî Users</title>
<link rel="stylesheet" href="../style.css">
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }
  body { background:#f4f6f8; color:#333; transition: background 0.3s, color 0.3s; }
  body.dark { background:#1f1f1f; color:#eee; }

  /* Top Navbar - Tab Style */
.top-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 50px;
  background: #ffffff; /* flat white background */
  color: #333;
  border-bottom: 2px solid #27ae60; /* underline for navbar */
  flex-wrap: wrap;
  gap: 15px;
}

.top-nav .logo {
  font-weight: 700;
  font-size: 1.5rem;
  color: #27ae60;
  letter-spacing: 1px;
}

.top-nav nav {
  display: flex;
  justify-content: center;
  flex: 1;
  gap: 20px;
  flex-wrap: wrap;
}

.top-nav nav a {
  color: #333;
  text-decoration: none;
  font-weight: 500;
  padding: 10px 18px;
  border-bottom: 3px solid transparent;
  transition: all 0.3s ease;
  border-radius: 4px 4px 0 0; /* top corners rounded */
}

.top-nav nav a:hover {
  color: #27ae60;
  border-bottom: 3px solid #27ae60; /* highlight underline on hover */
}

.top-nav nav a.active {
  color: #27ae60;
  border-bottom: 3px solid #27ae60; /* active tab highlight */
  font-weight: 600;
}

.user-info {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 500;
}

.user-info img.avatar {
  border-radius: 50%;
  width: 40px;
  height: 40px;
  border: 2px solid #27ae60;
}


  .main-content { padding:30px 50px; transition: background 0.3s, color 0.3s; }

  .card-grid { display:flex; gap:20px; margin-bottom:20px; }
  .card { background:#fff; border-radius:12px; padding:20px; box-shadow:0 2px 6px rgba(0,0,0,0.1); flex:1; transition:background 0.3s, color 0.3s; }
  body.dark .card { background:#2b2b2b; color:#eee; }

  .card h2, .card h3 { color:#27ae60; margin-bottom:10px; }
  body.dark .card h2, body.dark .card h3 { color:#7bd57a; }

  .table { width:100%; border-collapse:collapse; margin-top:10px; }
  .table th, .table td { text-align:left; padding:12px 15px; border-bottom:1px solid #ddd; }
  .table thead { background-color:#20df6c; color:white; font-weight:600; }
  body.dark .table thead { background-color:#27ae60; }
  .table tbody tr:nth-child(even) { background-color:#f7f7f7; }
  .table tbody tr:hover { background-color:#e2f6e2; transition:0.2s; }
  body.dark .table tbody tr:nth-child(even) { background-color:#333; }
  body.dark .table tbody tr:hover { background-color:#444; }

  .search-box { margin-bottom:12px; padding:8px 12px; border-radius:8px; border:1px solid #ccc; width:100%; max-width:300px; }
  body.dark .search-box { background:#444; color:#eee; border:1px solid #666; }

  .badge { padding:5px 10px; border-radius:12px; color:white; font-weight:bold; font-size:0.85em; }
  .pending { background-color:#f0ad4e; }
  .approved { background-color:#5cb85c; }
  .rejected { background-color:#d9534f; }

  .btn { padding:5px 12px; border:none; border-radius:6px; cursor:pointer; font-weight:500; font-size:0.85em; margin-right:5px; transition:0.2s; }
  .btn.primary { background-color:#20df6c; color:white; }
  .btn.danger { background-color:#e74c3c; color:white; }
  .btn:hover { opacity:0.85; }

</style>
</head>
<body>

<header class="top-nav">
  <div class="logo">üå± GREENIFY Admin</div>
  <nav>
    <a href="dashboard.html">üè† Dashboard</a>
    <a href="users.html" class="active">üë©‚Äçüè´ Users & Schools</a>
    <a href="content.html">üìö Content</a>
    <a href="competitions.html">üèÜ Competitions</a>
    <a href="reports.html">üìä Reports</a>
    <a href="moderation.html">üõ°Ô∏è SocialFeed</a>
    <a href="partnerships.html">ü§ù Partnerships</a>
    <a href="settings.html">‚öôÔ∏è Settings</a>
  </nav>
  <div class="user-info">
    Admin <button id="logoutBtn" class="btn danger">Logout</button>
  </div>
</header>

<main class="main-content">
  <div class="card-grid">
    <div class="card"><h3>Pending Approvals</h3><p id="pendingCount">0</p></div>
    <div class="card"><h3>Active Teachers</h3><p id="activeTeachers">0</p></div>
    <div class="card"><h3>Active Schools</h3><p id="activeSchools">0</p></div>
  </div>

  <section class="card">
    <h2>Pending Approvals</h2>
    <input type="text" id="searchInput" placeholder="Search by name..." class="search-box">
    <table class="table" id="pendingTable">
      <thead>
        <tr><th>Full Name</th><th>User Type</th><th>Status</th><th>Actions</th></tr>
      </thead>
      <tbody id="pendingBody">
        <tr>
          <td>Priya Sharma</td><td>Teacher</td><td><span class="badge pending">Pending</span></td>
          <td>
            <button class="btn primary">Approve</button>
            <button class="btn danger">Reject</button>
          </td>
        </tr>
        <tr>
          <td>Green Valley School</td><td>School</td><td><span class="badge pending">Pending</span></td>
          <td>
            <button class="btn primary">Approve</button>
            <button class="btn danger">Reject</button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</main>

<script>
  // Logout
  document.getElementById('logoutBtn').addEventListener('click', ()=>{ window.location.href='index.html'; });

  const pendingBody = document.getElementById('pendingBody');
  const pendingCount = document.getElementById('pendingCount');
  const activeTeachers = document.getElementById('activeTeachers');
  const activeSchools = document.getElementById('activeSchools');

  function updateCounts() {
    let pending=0, teachers=0, schools=0;
    Array.from(pendingBody.rows).forEach(row=>{
      const badge = row.cells[2].querySelector('.badge');
      const type = row.cells[1].textContent;
      if(badge.classList.contains('pending')) pending++;
      if(badge.classList.contains('approved') && type==='Teacher') teachers++;
      if(badge.classList.contains('approved') && type==='School') schools++;
    });
    pendingCount.textContent = pending;
    activeTeachers.textContent = teachers;
    activeSchools.textContent = schools;
  }

  function attachRowEvents(row){
    const approveBtn = row.querySelector('.btn.primary');
    const rejectBtn = row.querySelector('.btn.danger');
    const badge = row.cells[2].querySelector('.badge');

    approveBtn.addEventListener('click', ()=>{
      badge.textContent = 'Approved';
      badge.className = 'badge approved';
      updateCounts();
    });

    rejectBtn.addEventListener('click', ()=>{
      badge.textContent = 'Rejected';
      badge.className = 'badge rejected';
      updateCounts();
    });
  }

  Array.from(pendingBody.rows).forEach(attachRowEvents);

  // Search
  document.getElementById('searchInput').addEventListener('keyup', e=>{
    const filter = e.target.value.toLowerCase();
    Array.from(pendingBody.rows).forEach(row=>{
      const name = row.cells[0].textContent.toLowerCase();
      row.style.display = name.includes(filter) ? '' : 'none';
    });
  });

  updateCounts();
</script>
</body>
</html>
